function tableCarousel(t=".table-container",n=2){const $=jQuery,e=($(t),$(t+" table"));let o=[];const s=$(t+" table thead tr th:not(.sticky-col)");2===n?o=4===s.length?[parseInt(s[0].offsetWidth+s[1].offsetWidth,10),parseInt(s[2].offsetWidth+s[3].offsetWidth,10)]:[parseInt(s[0].offsetWidth,10),parseInt(s[1].offsetWidth,10)]:3===n&&(o=[parseInt(s[0].offsetWidth,10),parseInt(s[1].offsetWidth,10),parseInt(s[2].offsetWidth,10)]);const a=$(t+" table .sticky-col"),c=$(t+" .navigation--left"),i=$(t+" .navigation--right"),[r,l,f]=(e.outerWidth(!0),a.outerWidth(!0),[0,1,-1]);let h=0,g=0,u=0;e.on("touchstart",(function(t){g=t.originalEvent.changedTouches[0].clientX,h=parseInt(e.css("margin-left"),10),u=0})),e.on("touchmove",(function(t){if(!g)return;u=t.originalEvent.changedTouches[0].clientX-g,g=t.originalEvent.changedTouches[0].clientX;const n=parseInt(e.css("margin-left"),10)+u,s=o.reduce(((t,n)=>t+n),0)-o.at(-1);n>0||Math.abs(n)>=s||e.css({"margin-left":parseInt(n,10)})}));const d=t=>{"left"==t?(c.css("opacity",1),i.css("opacity",0)):"right"==t?(c.css("opacity",0),i.css("opacity",1)):"both"==t&&(c.css("opacity",1),i.css("opacity",1))},p=(t,n)=>{t===r&&d("right"),t===l&&d("middle"),t===f&&d("left"),e.animate({marginLeft:n},300)};if(2===o.length){const t=t=>0===Math.abs(t)?r:f;e.on("touchend",(function(n){const s=parseInt(e.css("margin-left"),10),a=t(h),c=o.at(a),i=parseInt(c/2,10);console.log("currentMarginLeft",s),console.log("startMarginLeft",h),console.log("currentSection",a),console.log("halfOfsection",i),a===r?Math.abs(h-s)<i-30?p(r,0):p(f,-1*c):Math.abs(h-s)<i-30?p(f,h):p(r,0)}))}if(3===o.length){const t=(t,n)=>{const e=Math.abs(t);return 0===e?r:e===n?l:f};e.on("touchend",(function(n){const s=parseInt(e.css("margin-left"),10),a=t(h,o[0]),c=Math.abs(h-s),i=o.at(a),g=parseInt(i/2,10);console.log("currentMarginLeft",s),console.log("startMarginLeft",h),console.log("currentSection",a),a===r?c<g-20?p(r,0):p(l,-1*i):a===l?c<g-20?p(l,-1*i):h<s?p(r,0):p(f,-2*i):Math.abs(h-s)<g-20?p(f,h):p(l,-1*i)}))}}